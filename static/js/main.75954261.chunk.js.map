{"version":3,"sources":["assets/red-marker.png","components/Header.jsx","components/MapComponent.jsx","components/Filter.jsx","App.js","index.js"],"names":["module","exports","Header","className","src","title","width","height","style","border","overflow","scrolling","frameBorder","allowtransparency","allow","Component","MapComponent","customIcon","Icon","iconUrl","require","iconSize","quakeFeaturesMarker","this","props","quakes","map","quake","position","magnitude","Marker","key","id","icon","Popup","Date","time","toUTCString","place","href","url","Map","center","zoom","minZoom","maxBounds","scrollWheelZoom","attributionControl","TileLayer","AttributionControl","prefix","Filter","state","filterIsOpenAddDisplayClass","magnitudeFilter","timeFilter","toggleFilter","bind","magnitudeChangeHandler","timeChangeHandler","setState","event","target","value","prevProps","prevState","fetchFilterData","filter_sec_class_list","push","onClick","join","Form","FormGroup","CustomInput","type","name","label","checked","parseInt","onChange","parseFloat","App","fetchDataFromFilterJsx","data","filteredData","isLoaded","defaultEarthquakesData","filter","getTime","filterData","serverNotConnectedMsg","axios","get","then","res","selectedData","features","properties","mag","alert","code","geometry","coordinates","catch","error","console","log","mapSection","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.75954261.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/red-marker.6ce3ca72.png\";","import React, { Component } from 'react'\r\n\r\nclass Header extends Component {\r\n    render() {\r\n        return (\r\n            <header className=\"quake_header\">\r\n                <h1 className=\"navbar__h1\">QuakeTracker</h1>\r\n                <p className=\"navbar__p\">Visualize the Earthquake in Real-Time<br />\r\n                    {/* <span className=\"nav-followlnk-span\"><a href=\"https://purveshmakode.com\">{`</>`} w/ &#10084; by PM</a></span> <br /> */}\r\n                </p>\r\n                <p className=\"iframe\">\r\n                <iframe src=\"https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.quaketracker.gq&width=122&layout=button_count&action=like&size=small&share=true&height=46&appId\" title=\"fb_like_share_btn\" width=\"122\" height=\"22\" style={{ border: \"none\", overflow: \"hidden\" }} scrolling=\"no\" frameBorder=\"0\" allowtransparency=\"true\" allow=\"encrypted-media\"></iframe>\r\n                </p>\r\n\r\n            </header>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default Header;","import React, { Component } from \"react\";\r\nimport { Map, TileLayer, Marker, Popup, AttributionControl } from 'react-leaflet';\r\n\r\nimport { Icon } from \"leaflet\";\r\n\r\n\r\n\r\nclass MapComponent extends Component {\r\n\r\n  render() {\r\n\r\n    const customIcon = new Icon({\r\n      iconUrl: require('../assets/red-marker.png'),     // red-marker for severe alert\r\n      iconSize: [30, 41]\r\n    });\r\n\r\n\r\n    const quakeFeaturesMarker = this.props.quakes.map(quake => {\r\n      const position = [quake.position[1], quake.position[0]];    // react-leaflet coordinate position format is [lat, lng]\r\n      if (quake.magnitude >= 6) {\r\n        return (\r\n          <Marker key={quake.id} position={position} icon={customIcon}>\r\n            <Popup>\r\n              <span className=\"popup__quaketime\">{new Date(quake.time).toUTCString()}</span>\r\n              <br />\r\n              <span className=\"quake__magnitude__red\">{quake.magnitude}</span> magnitude earthquake. Near {quake.place}.\r\n            Find more details <a href={quake.url}>here</a>\r\n            </Popup>\r\n          </Marker>\r\n        );\r\n      } else {\r\n        return (\r\n          <Marker key={quake.id} position={position} >\r\n            <Popup>\r\n              <span className=\"popup__quaketime\">{new Date(quake.time).toUTCString()}</span>\r\n              <br />\r\n              <span className=\"quake__magnitude\">{quake.magnitude}</span> magnitude earthquake. Near {quake.place}.\r\n              Find more details <a href={quake.url}>here</a>\r\n            </Popup>\r\n          </Marker>\r\n        );\r\n      }\r\n    });\r\n\r\n\r\n    return (\r\n      <Map\r\n        className=\"map__section\"\r\n        center={[38, 6]}\r\n        zoom={3}\r\n        minZoom=\"2.5\"\r\n        maxBounds={[\r\n          [90, 180],\r\n          [-90, -180],\r\n        ]}\r\n        scrollWheelZoom={false}\r\n        attributionControl={false}\r\n      >\r\n        <TileLayer url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" />\r\n        <AttributionControl prefix=\"< /> w/ &#10084; by <a href='https://purveshmakode.com'>Purvesh Makode</a>\" />\r\n        {quakeFeaturesMarker}\r\n      </Map >\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default MapComponent;","import React, { Component } from 'react';\r\nimport { Form, FormGroup, CustomInput } from 'reactstrap';\r\n\r\nclass Filter extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            filterIsOpenAddDisplayClass: false,\r\n            magnitudeFilter: -1,\r\n            timeFilter: 0,\r\n        }\r\n\r\n        this.toggleFilter = this.toggleFilter.bind(this);\r\n        this.magnitudeChangeHandler = this.magnitudeChangeHandler.bind(this);\r\n        this.timeChangeHandler = this.timeChangeHandler.bind(this);\r\n    }\r\n\r\n    toggleFilter() {\r\n        this.setState({\r\n            filterIsOpenAddDisplayClass: !this.state.filterIsOpenAddDisplayClass\r\n        });\r\n    }\r\n\r\n    magnitudeChangeHandler(event) {\r\n        this.setState({\r\n            magnitudeFilter: event.target.value\r\n        });\r\n    }\r\n\r\n    timeChangeHandler(event) {    \r\n        this.setState({\r\n            timeFilter: event.target.value\r\n        });\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {   // This life cycle method is used to pass state data into parent component (App.js)\r\n        if (this.state.magnitudeFilter !== prevState.magnitudeFilter) {\r\n            this.props.fetchFilterData(this.state);\r\n        }else if(this.state.timeFilter !== prevState.timeFilter) {\r\n            this.props.fetchFilterData(this.state);\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        let filter_sec_class_list = [\"filter_sec\"];\r\n        if (!this.state.filterIsOpenAddDisplayClass) {\r\n            filter_sec_class_list.push('display_none');\r\n        }\r\n\r\n        // console.log(\"gives mag in string (got to convert it into Int)\", this.state.magnitudeFilter);\r\n\r\n        return (\r\n            <>\r\n                <div className=\"toggle__filter\" onClick={this.toggleFilter}>\r\n                    Filters\r\n                </div>\r\n                <div className={filter_sec_class_list.join(' ')}>\r\n                    <Form>\r\n                        <FormGroup>\r\n                            <CustomInput type=\"radio\" id=\"magGreaterThan0\" name=\"mag\" value={-1} label=\"All\" checked={parseInt(this.state.magnitudeFilter, 10) === -1} onChange={this.magnitudeChangeHandler} />\r\n                            <CustomInput type=\"radio\" id=\"magGreaterThan3\" name=\"mag\" value={3.5} label=\"Magnitude > 3.5\" checked={parseFloat(this.state.magnitudeFilter) === 3.5} onChange={this.magnitudeChangeHandler} />\r\n                            <CustomInput type=\"radio\" id=\"magGreaterThan6\" name=\"mag\" value={6} label=\"Magnitude > 6\" checked={parseInt(this.state.magnitudeFilter, 10) === 6} onChange={this.magnitudeChangeHandler} />\r\n                        </FormGroup>\r\n                        <hr />\r\n                    </Form>\r\n                    <Form>\r\n                        <FormGroup>\r\n                            <CustomInput type=\"radio\" id=\"last2days\" name=\"timefilter\" value={0} label=\"Last 30 Hours (≈ 2 days)\" checked={parseInt(this.state.timeFilter, 10) === 0} onChange={this.timeChangeHandler} />\r\n                            <CustomInput type=\"radio\" id=\"lasthour\" name=\"timefilter\" value={3600000} label=\"Last Hour\" checked={parseInt(this.state.timeFilter, 10) === 3600000} onChange={this.timeChangeHandler} />\r\n                            <hr />\r\n                            <p className=\"filter__sec__notice\">*defaults to 'last 30 hours (≈ 2 days)' <br />*defaults to 'All' magnitude <br />📍 Earthquakes with &gt;6 magnitude</p>\r\n                        </FormGroup>\r\n                    </Form>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default Filter;","import React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport './App.css';\r\n\r\nimport Header from './components/Header';\r\nimport MapComponent from './components/MapComponent';\r\nimport Filter from './components/Filter';\r\n\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      defaultEarthquakesData: [],  // [{}, {}, {},----]\r\n      filterData: '',\r\n      serverNotConnectedMsg: '',\r\n      isLoaded: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    axios.get(`https://earthquake.usgs.gov/fdsnws/event/1/query?format=geojson&limit=500`)\r\n      .then(res => {\r\n        // console.log(res.data.features);    ////---> returns whole features array from JSON api data\r\n\r\n        // this.setState({\r\n        //   features: res.data.features      ////---> other and direct way to take and set whole features array and pass the 'features' as a props into MapComponent'.\r\n        // });\r\n\r\n\r\n        ////----> Below selectedData is a selected properties from a whole json data which returns a dictionary of each quake   \r\n\r\n        const selectedData = res.data.features.map(quake => {\r\n          return {\r\n            magnitude: quake.properties.mag,\r\n            place: quake.properties.place,\r\n            url: quake.properties.url,\r\n            time: quake.properties.time,\r\n            alert: quake.properties.alert,\r\n            code: quake.properties.code,\r\n            position: [\r\n              quake.geometry.coordinates[0], //longitude\r\n              quake.geometry.coordinates[1], //latitude\r\n              quake.geometry.coordinates[2], //depth\r\n            ],\r\n            id: quake.id,\r\n          }\r\n        });\r\n\r\n        // console.log(\"Selected Data:\", selectedData);\r\n        // console.log(\"Selected Data length:\", selectedData.length);\r\n\r\n        this.setState({\r\n          defaultEarthquakesData: selectedData,\r\n          isLoaded: true\r\n        });\r\n\r\n        // console.log(this.state.defaultEarthquakesData);\r\n\r\n      })\r\n      .catch(error => {\r\n        this.setState({ serverNotConnectedMsg: \"Can't fetch data at this moment. Check your internet connection and try again.\", isLoaded: 'true' });\r\n        console.log(error);\r\n        alert(\"We couldn't reach our servers. You may not be connected to internet. Please try again...\");\r\n      })\r\n  }\r\n\r\n\r\n  // state data from child component (Filter.jsx)\r\n  fetchDataFromFilterJsx = (data) => {\r\n\r\n    var filteredData;\r\n\r\n    this.setState({ isLoaded: false }, () => {\r\n      // console.log(\"Passed MAGNITUDE filter Data from Child(Filter.jsx) to Parent(App.js):\", data.magnitudeFilter);\r\n      // console.log(\"Passed TIME filter Data from Child(Filter.jsx) to Parent(App.js):\", data.timeFilter);\r\n      // console.log(\"current time:\", new Date().getTime());\r\n      // console.log(\"time EPOCH for last hour:\", new Date().getTime() - parseInt(data.timeFilter, 10));\r\n\r\n      if (parseInt(data.timeFilter) === 0) {\r\n        filteredData = this.state.defaultEarthquakesData.filter(quake => quake.magnitude > data.magnitudeFilter);\r\n      } else {\r\n        filteredData = this.state.defaultEarthquakesData.filter(quake => quake.magnitude > data.magnitudeFilter && quake.time > new Date().getTime() - parseInt(data.timeFilter, 10));\r\n      }\r\n\r\n\r\n      // console.log(\"filterData:\", filteredData);\r\n      // console.log(\"filterDataLength:\", filteredData.length);\r\n\r\n      this.setState({\r\n        filterData: filteredData,\r\n        isLoaded: true\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n    let mapSection;\r\n\r\n    if (!this.state.isLoaded) {\r\n      mapSection = <p className=\"preload_message\">Loading...</p>;\r\n    } else if (this.state.serverNotConnectedMsg) {\r\n      mapSection = <p className=\"preload_message\">{this.state.serverNotConnectedMsg}</p>;\r\n    } else {\r\n      if (this.state.filterData) {\r\n        mapSection = <MapComponent quakes={this.state.filterData} />;\r\n        console.log(\"filtered quake data executed\");\r\n      } else {   \r\n        mapSection = <MapComponent quakes={this.state.defaultEarthquakesData} />;\r\n        console.log(\"default quake data executed\");\r\n      }\r\n    }\r\n\r\n\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <Filter fetchFilterData={this.fetchDataFromFilterJsx} />\r\n        <div className=\"map__section\">\r\n          {mapSection}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default App;\r\n\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}